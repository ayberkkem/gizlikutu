<!doctype html>
<html lang="tr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gizli Kutu | Ã–deme</title>
  <link rel="icon" href="./assets/logo.svg" type="image/svg+xml">
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/pages/checkout.css">
  <link rel="stylesheet" href="./css/category-nav.css">
</head>

<body>
  <div class="drawerBackdrop" id="drawerBackdrop"></div>
  <aside class="drawer" id="drawer"></aside>

  <header class="topbar">
    <div class="container header">
      <button class="iconbtn" id="menuBtn">â˜°</button>
      <a class="brand" href="./index.html"><img src="./assets/logo.svg" alt=""><b>Gizli Kutu</b></a>
      <div class="header-right" style="flex:1">
        <a class="iconbtn" href="https://wa.me/905423933145" target="_blank" rel="noopener" aria-label="WhatsApp">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path
              d="M20 11.6c0 4.6-3.8 8.4-8.4 8.4-1.5 0-2.9-.4-4.2-1.1L4 20l1.2-3.3c-.8-1.3-1.2-2.8-1.2-4.4C4 7 7.8 3.2 12.4 3.2 16.9 3.2 20.7 7 20.7 11.6Z"
              stroke="#25D366" stroke-width="1.5" fill="#25D366" fill-opacity="0.1" />
            <path
              d="M9.2 8.8c.2-.4.4-.4.6-.4h.5c.2 0 .4.1.5.3l.7 1.7c.1.2.1.4 0 .5l-.3.5c-.1.2-.1.4 0 .6.4.7 1.2 1.5 2 2 .2.1.4.1.6 0l.5-.3c.2-.1.4-.1.5 0l1.7.7c.2.1.3.3.3.5v.5c0 .2 0 .4-.4.6-.4.2-1.2.4-2.1.1-1-.3-2.2-1-3.2-2s-1.7-2.2-2-3.2c-.3-.9-.1-1.7.1-2.1Z"
              fill="#25D366" />
          </svg>
        </a>
        <!-- Mobil arama toggle butonu -->
        <button class="iconbtn searchToggleBtn" id="searchToggle" aria-label="Ara">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="#111827" stroke-width="1.5" />
            <path d="M16.2 16.2 21 21" stroke="#111827" stroke-width="1.5" stroke-linecap="round" />
          </svg>
        </button>
        <div class="search" id="searchBox"><svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="#111827" stroke-width="1.5" />
            <path d="M16.2 16.2 21 21" stroke="#111827" stroke-width="1.5" stroke-linecap="round" />
          </svg><input id="globalSearch" placeholder="ÃœrÃ¼n ara..." /></div>
        <a class="iconbtn cartWrap" href="./cart.html">ğŸ›’<span class="badge" id="cartCount"
            style="display:none">0</span></a>

        <!-- PC Header Nav - Sadece Desktop -->
        <nav class="desktop-header-nav">
          <a href="./index.html">Anasayfa</a>
          <a href="./products.html">PopÃ¼ler ÃœrÃ¼nler</a>
          <a href="./about.html">HakkÄ±mÄ±zda</a>
          <a href="./contact.html">Ä°letiÅŸim</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Kategori Navigasyon -->
  <nav id="categoryNav" class="category-nav-wrapper"></nav>

  <main class="container" id="checkoutWrap">
    <div class="sectionTitle">
      <h2>Ã–deme</h2>
      <p>Bilgileri doldurun ve sipariÅŸi gÃ¼venle tamamlayÄ±n.</p>

    </div>

    <div class="row" style="align-items:flex-start;gap:14px">
      <form class="card" id="checkoutForm" style="flex:1.2;padding:16px">
        <h3 style="margin:0 0 10px">Teslimat Bilgileri</h3>
        <div class="row">
          <input name="fullName" required placeholder="Ad Soyad"
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
          <input name="phone" required placeholder="Telefon"
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
        </div>
        <div class="row">
          <input name="email" required type="email" placeholder="E-posta"
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
        </div>
        <div class="row">
          <select id="provinceSelect" name="city" required
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
            <option value="">Ä°l SeÃ§iniz</option>
          </select>
          <select id="districtSelect" name="district" required disabled
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
            <option value="">Ã–nce il seÃ§iniz</option>
          </select>
        </div>
        <div class="row">
          <input name="zip" placeholder="Posta Kodu"
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
        </div>
        <textarea name="address" required placeholder="AÃ§Ä±k adres" rows="4"
          style="width:100%;border:1px solid var(--border);border-radius:12px;padding:10px 12px"></textarea>

        <hr class="sep">
        <h3 style="margin:0 0 10px">Ã–deme Bilgileri</h3>

        <div id="paymentMethods" style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
          <label class="payment-option"
            style="display:flex;align-items:center;gap:10px;padding:12px;border:1px solid var(--border);border-radius:12px;cursor:pointer">
            <input type="radio" name="payment" value="card" checked>
            <span>ğŸ’³ Kredi / Banka KartÄ±</span>
          </label>
          <label class="payment-option"
            style="display:flex;align-items:center;gap:10px;padding:12px;border:1px solid var(--border);border-radius:12px;cursor:pointer">
            <input type="radio" name="payment" value="transfer">
            <span>ğŸ¦ Havale / EFT</span>
          </label>
          <label id="paymentKapida" class="payment-option"
            style="display:none;align-items:center;gap:10px;padding:12px;border:1px solid var(--border);border-radius:12px;cursor:pointer">
            <input type="radio" name="payment" value="kapida">
            <span>ğŸšš KapÄ±da Ã–deme</span>
          </label>
        </div>
        <div class="row">
          <input name="note" placeholder="SipariÅŸ notu (opsiyonel)"
            style="flex:1;border:1px solid var(--border);border-radius:12px;padding:10px 12px">
        </div>

        <label class="row" style="gap:10px;margin-top:10px;align-items:flex-start">
          <input id="agree" type="checkbox" required style="margin-top:4px">
          <span style="color:var(--muted);font-size:13px;line-height:1.5">
            <a href="./distance-sales.html" style="text-decoration:underline">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a>,
            <a href="./privacy.html" style="text-decoration:underline">Gizlilik PolitikasÄ±</a> ve
            <a href="./kvkk.html" style="text-decoration:underline">KVKK AydÄ±nlatma Metni</a>â€™ni
            okudum, anladÄ±m ve kabul ediyorum.
          </span>
        </label>

        <div class="row" style="justify-content:space-between;margin-top:12px">
          <a class="btn" href="./cart.html">Sepete DÃ¶n</a>
          <button class="btn primary" id="submitOrder" type="submit">
            SipariÅŸi Tamamla
          </button>

        </div>
        <div class="trustRow" style="margin-top:14px">
          <span>ğŸ”’ %100 Gizli Paketleme</span>
          <span>ğŸ’³ GÃ¼venli Ã–deme</span>
          <span>ğŸšš HÄ±zlÄ± Kargo</span>
          <span>ğŸ’¬ WhatsApp Destek</span>
        </div>
        <div class="notice" style="
  margin-top:12px;
  background:#fff1f2;
  border:1px solid #fecaca;
  color:#b91c1c;
  font-weight:500;
">
          ğŸ”’ <b>TÃ¼m sipariÅŸler tam gizli paketleme</b> ile hazÄ±rlanÄ±r.
          Paket Ã¼zerinde Ã¼rÃ¼n iÃ§eriÄŸine veya site adÄ±na dair herhangi bir ibare yer almaz.
        </div>

      </form>



      <div class="card" style="flex:.8;padding:16px">
        <h3 style="margin:0 0 10px">Ã–zet</h3>
        <div class="row" style="justify-content:space-between"><span style="color:var(--muted)">Ara Toplam</span><b
            id="sumSubtotal"></b></div>
        <div class="row" style="justify-content:space-between"><span style="color:var(--muted)">Kargo</span><b
            id="sumShipping"></b></div>
        <hr class="sep">
        <div class="row" style="justify-content:space-between"><span style="color:var(--muted)">Toplam</span><b
            id="sumTotal" style="font-size:20px"></b></div>
        <div class="notice" style="margin-top:12px">
          Ã–deme iÅŸlemleri gÃ¼venli altyapÄ±lar Ã¼zerinden gerÃ§ekleÅŸtirilmektedir.
        </div>

      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">Â© <span id="y"></span> Gizli Kutu</div>
  </footer>

  <script src="./js/storage.js"></script>
  <script src="./js/app.js"></script>

  <script>
    document.getElementById("drawer").innerHTML = `
      <div class="row" style="justify-content:space-between">
        <div class="brand"><img src="./assets/logo.svg" alt=""><b>Gizli Kutu</b></div>
        <button class="iconbtn" onclick="document.getElementById('drawerBackdrop').click()">âœ•</button>
      </div>

  
      <!-- ğŸ”¥ EKLENDÄ° -->
      <div id="hamburgerCategories"></div>
      <!-- ğŸ”¥ EK BÄ°TTÄ° -->

      <h3>SÃ¶zleÅŸmeler</h3>
      <a class="navlink" data-close-drawer href="./distance-sales.html">Mesafeli SatÄ±ÅŸ</a>
      <a class="navlink" data-close-drawer href="./returns.html">Ä°ade</a>
      <a class="navlink" data-close-drawer href="./privacy.html">Gizlilik</a>
      <a class="navlink" data-close-drawer href="./kvkk.html">KVKK</a>
    `;
  </script>

  <script src="./js/checkout-page.js"></script>

  <script>
    GK.bindGlobalUI();
    document.getElementById("y").textContent = new Date().getFullYear();
  </script>

  <!-- ğŸ”¥ EKLENDÄ°: Hamburger menÃ¼ kategorilerini JSONâ€™dan yÃ¼kle -->
  <script>
    (async function () {
      try {
        const res = await fetch("./data/categories.json", { cache: "no-store" });
        const categories = await res.json();
        const box = document.getElementById("hamburgerCategories");
        if (!box) return;
        box.innerHTML = categories.map(cat => `
          <a class="navlink" data-close-drawer href="./products.html?cat=${cat.id}">
            ${cat.label}
          </a>
        `).join("");
      } catch (e) {
        console.error("Hamburger kategori yÃ¼kleme hatasÄ±", e);
      }
    })();
  </script>
  <!-- ğŸ”¥ EK BÄ°TTÄ° -->
<script type="module" src="./js/firebase.js"></script>

  <script src="./js/checkout-location.js"></script>
  <script src="./js/age-gate.js"></script>
  <script src="./js/category-nav.js" defer></script>
</body>

</html>